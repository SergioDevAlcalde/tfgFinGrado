<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.2/owl.carousel.css" rel="stylesheet" />
    <style>
        .carousel-caption {
            position: absolute;
            top:30%;
        }

    </style>
</head>

<body>

<div th:replace="fragments/header :: header">...</div>

<div class="container" style="margin-top:2%; margin-bottom:2%;">
    <h4>Características del producto: </h4>
    <div class="card">
        <div class="card-header">
            <div class="row">
                <div class="col">
                    <img th:src="@{'/images/products/'+${producto.getImagen()}}" alt="producto" class="img-responsive" style="width:50%"/>
                </div>
                <div class="col">
                    <h4><span class="text-center" th:text="${producto.getNombre()}"></span></h4>
                    <p th:text="${producto.getDescripcion()}"></p>
                    <h5>$<span class="text-center" th:text="${producto.getPrecio()}"></span></h5>
                </div>
                <div class="col">
                    <div class="card bg-light">
                        <div class="card-header">
                            <h3 class="text-muted">$<span class="text-dark text-center" th:text="${producto.getPrecio()}"></span></h3>
                        </div>

                        <div class="card-body">
                            <div class="form-group mr-sm-1">
                                <label>Cantidad:</label>
                                <div class="row">
                                    <div class="col" th:object="${producto}" th:method="post">
                                        <input class="text form-control mr-sm-2" placeholder="Cantidad" type="number" th:field="*{pedido}" />
                                    </div>
                                    <div class="col">
                                        <div>
                                            <p>Stock disponible: <span class="text-center" th:text="${producto.getStock()}"></span> </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <a class="btn-primary btn text-light" role="button" th:href="@{'/agregarEnCarro/'+${producto.getId()}}" th:method="POST">Añadir al carrito</a>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="container" style="margin-bottom: 4%;">

    <h4>Otros productos similares: </h4>

    <div class="row" id="fila">
        <div class="owl-carousel owl-theme">

            <div class="owl-item" th:each="prod: ${ productos}">
                <div class="card" id="columna" style="height:450px; margin-right: 2%;">
                    <div class="card-body d-flex flex-column justify-content-around">
                        <div class="card-header">
                            <img th:src="@{'/images/products/'+${prod.getImagen()}}" alt="producto" class="card-img-top"/>
                        </div>
                        <h4 class="card-title text-dark text-center" th:text="${prod.getNombre()}"></h4>
                        <h5 class="text-muted text-center">$<span class="text-center text-dark" th:text="${prod.getPrecio()}"></span></h5>
                        <a th:href="@{'/productoUnico/'+${prod.getId()}}"  class="btn btn-primary">Comprar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/footer :: footer">...</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.2/owl.carousel.js"></script>


<script>

    $(document).ready(function() {
        $('.owl-carousel').owlCarousel({

            loop: true,
            margin: 10,
            nav: true,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 3
                },
                1000: {
                    items: 4
                }
            }
        });
    });
</script>

</body>
</html>